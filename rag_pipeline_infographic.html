<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RAG Pipeline Optimization Infographic</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #0a0a0a;
            color: #e0e0e0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            padding: 40px 0;
            background: linear-gradient(135deg, #1a1a1a, #2a2a2a);
            border: 2px solid #00d4ff;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 0 20px rgba(0, 212, 255, 0.3);
        }

        .header h1 {
            font-size: 3em;
            background: linear-gradient(45deg, #00d4ff, #0088cc);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 30px rgba(0, 212, 255, 0.5);
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2em;
            color: #b0b0b0;
        }

        .section {
            background: #1a1a1a;
            border: 1px solid #00d4ff;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }

        .section:hover {
            box-shadow: 0 0 25px rgba(0, 212, 255, 0.2);
            transform: translateY(-2px);
        }

        .section h2 {
            color: #00d4ff;
            font-size: 1.8em;
            margin-bottom: 20px;
            text-align: center;
            text-shadow: 0 0 10px rgba(0, 212, 255, 0.5);
        }

        .phase-timeline {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .phase-card {
            background: #2a2a2a;
            border: 1px solid #00d4ff;
            border-radius: 8px;
            padding: 20px;
            position: relative;
            overflow: hidden;
        }

        .phase-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #00d4ff, #0088cc);
        }

        .phase-number {
            background: #00d4ff;
            color: #0a0a0a;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .chart-container {
            background: #2a2a2a;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid #333;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 30px 0;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .data-flow {
            display: flex;
            align-items: center;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 20px;
            margin: 30px 0;
        }

        .flow-node {
            background: #2a2a2a;
            border: 2px solid #00d4ff;
            border-radius: 50%;
            width: 120px;
            height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-size: 0.9em;
            position: relative;
            transition: all 0.3s ease;
        }

        .flow-node:hover {
            background: #00d4ff;
            color: #0a0a0a;
            transform: scale(1.1);
        }

        .flow-arrow {
            font-size: 2em;
            color: #00d4ff;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }

        .metric-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .metric-card {
            background: #2a2a2a;
            border: 1px solid #00d4ff;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
        }

        .metric-value {
            font-size: 2.5em;
            color: #00d4ff;
            font-weight: bold;
            display: block;
        }

        .metric-label {
            color: #b0b0b0;
            font-size: 0.9em;
            margin-top: 5px;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .comparison-table th,
        .comparison-table td {
            border: 1px solid #333;
            padding: 15px;
            text-align: left;
        }

        .comparison-table th {
            background: #00d4ff;
            color: #0a0a0a;
            font-weight: bold;
        }

        .comparison-table tr:nth-child(even) {
            background: #2a2a2a;
        }

        .comparison-table tr:hover {
            background: #3a3a3a;
        }

        .progress-bar {
            background: #333;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            background: linear-gradient(90deg, #00d4ff, #0088cc);
            height: 20px;
            border-radius: 10px;
            transition: width 2s ease;
        }

        .tech-stack {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin: 20px 0;
        }

        .tech-badge {
            background: #2a2a2a;
            border: 1px solid #00d4ff;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9em;
            transition: all 0.3s ease;
        }

        .tech-badge:hover {
            background: #00d4ff;
            color: #0a0a0a;
            transform: scale(1.05);
        }

        .system-prompt-section {
            background: #1a1a1a;
            border: 1px solid #00d4ff;
            border-radius: 10px;
            padding: 25px;
            margin-top: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            width: 100vw;
            margin-left: calc(-50vw + 50%);
            position: relative;
        }

        .system-prompt-section h2 {
            color: #00d4ff;
            font-size: 1.8em;
            margin-bottom: 20px;
            text-align: center;
            text-shadow: 0 0 10px rgba(0, 212, 255, 0.5);
        }

        .prompt-controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .prompt-btn {
            background: #2a2a2a;
            border: 1px solid #00d4ff;
            color: #e0e0e0;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.3s ease;
        }

        .prompt-btn:hover {
            background: #00d4ff;
            color: #0a0a0a;
            transform: translateY(-2px);
        }

        .system-prompt-area {
            width: 100%;
            min-height: 200px;
            background: #2a2a2a;
            border: 1px solid #333;
            border-radius: 5px;
            padding: 15px;
            color: #e0e0e0;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            line-height: 1.4;
            resize: vertical;
            display: block;
            box-sizing: border-box;
        }

        .system-prompt-area:focus {
            outline: none;
            border-color: #00d4ff;
            box-shadow: 0 0 10px rgba(0, 212, 255, 0.3);
        }

        .prompt-info {
            text-align: center;
            color: #b0b0b0;
            font-size: 0.9em;
            margin-top: 10px;
        }

        @media (max-width: 768px) {
            .grid-2, .grid-3 {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .flow-node {
                width: 100px;
                height: 100px;
                font-size: 0.8em;
            }

            .system-prompt-section {
                margin-left: -20px;
                margin-right: -20px;
                width: calc(100% + 40px);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>RAG Pipeline Optimization</h1>
            <p>Comprehensive Analysis & Enhancement Protocol</p>
        </div>

        <!-- Phase Timeline -->
        <div class="section">
            <h2>7-Phase Implementation Protocol</h2>
            <div class="phase-timeline">
                <div class="phase-card">
                    <div class="phase-number">1</div>
                    <h3>Human-in-Loop Enhancement</h3>
                    <p>Define patterns for speakers to implement real-time metadata flags and topic tagging</p>
                </div>
                <div class="phase-card">
                    <div class="phase-number">2</div>
                    <h3>Architect's Playbook</h3>
                    <p>Advanced data extraction with relational chunking and sentiment arc analysis</p>
                </div>
                <div class="phase-card">
                    <div class="phase-number">3</div>
                    <h3>Data Structure Fortification</h3>
                    <p>Schema enhancement and GraphDB implementation for superior relationship modeling</p>
                </div>
                <div class="phase-card">
                    <div class="phase-number">4</div>
                    <h3>Agentic Prompt Overhaul</h3>
                    <p>Sophisticated system prompts with constraint-driven analysis and justification chains</p>
                </div>
                <div class="phase-card">
                    <div class="phase-number">5</div>
                    <h3>Process Optimization</h3>
                    <p>Asynchronous workflow analysis and software improvements with spaCy integration</p>
                </div>
                <div class="phase-card">
                    <div class="phase-number">6</div>
                    <h3>Multimodal Data Research</h3>
                    <p>Audio/video analysis for prosody, interruption detection, and visual cues</p>
                </div>
                <div class="phase-card">
                    <div class="phase-number">7</div>
                    <h3>Final Evaluation</h3>
                    <p>Comprehensive summary and performance assessment of all improvements</p>
                </div>
            </div>
        </div>

        <!-- Data Flow Visualization -->
        <div class="section">
            <h2>Enhanced Data Processing Flow</h2>
            <div class="data-flow">
                <div class="flow-node">Raw Audio/Video Input</div>
                <div class="flow-arrow">→</div>
                <div class="flow-node">Diarization & Chunking</div>
                <div class="flow-arrow">→</div>
                <div class="flow-node">Metadata Enrichment</div>
                <div class="flow-arrow">→</div>
                <div class="flow-node">Relational Analysis</div>
                <div class="flow-arrow">→</div>
                <div class="flow-node">Graph Database Storage</div>
            </div>
        </div>

        <!-- Performance Metrics -->
        <div class="section">
            <h2>Pipeline Performance Metrics</h2>
            <div class="metric-grid">
                <div class="metric-card">
                    <span class="metric-value">7</span>
                    <div class="metric-label">Implementation Phases</div>
                </div>
                <div class="metric-card">
                    <span class="metric-value">3</span>
                    <div class="metric-label">Database Architectures</div>
                </div>
                <div class="metric-card">
                    <span class="metric-value">6</span>
                    <div class="metric-label">Data Enhancement Types</div>
                </div>
                <div class="metric-card">
                    <span class="metric-value">100%</span>
                    <div class="metric-label">Async Processing Capability</div>
                </div>
            </div>
        </div>

        <!-- Database Comparison Charts -->
        <div class="section">
            <h2>Database Architecture Analysis</h2>
            <div class="grid-2">
                <div class="chart-container">
                    <canvas id="dbPerformanceChart"></canvas>
                </div>
                <div class="chart-container">
                    <canvas id="dbComplexityChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Processing Capabilities -->
        <div class="section">
            <h2>Processing Mode Optimization</h2>
            <div class="grid-3">
                <div class="chart-container">
                    <h3 style="color: #00d4ff; text-align: center; margin-bottom: 15px;">Async vs Sync Tasks</h3>
                    <canvas id="processingChart"></canvas>
                </div>
                <div class="chart-container">
                    <h3 style="color: #00d4ff; text-align: center; margin-bottom: 15px;">Data Enhancement Pipeline</h3>
                    <canvas id="enhancementChart"></canvas>
                </div>
                <div class="chart-container">
                    <h3 style="color: #00d4ff; text-align: center; margin-bottom: 15px;">Multimodal Data Sources</h3>
                    <canvas id="modalityChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Technology Stack -->
        <div class="section">
            <h2>Enhanced Technology Stack</h2>
            <div class="tech-stack">
                <div class="tech-badge">PostgreSQL</div>
                <div class="tech-badge">MongoDB</div>
                <div class="tech-badge">Neo4j GraphDB</div>
                <div class="tech-badge">spaCy NLP</div>
                <div class="tech-badge">Sentence Transformers</div>
                <div class="tech-badge">Computer Vision</div>
                <div class="tech-badge">Audio Analysis</div>
                <div class="tech-badge">Sentiment Analysis</div>
                <div class="tech-badge">Vector Embeddings</div>
                <div class="tech-badge">Async Processing</div>
            </div>
        </div>

        <!-- Improvement Comparison Table -->
        <div class="section">
            <h2>Current vs Enhanced Pipeline Comparison</h2>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Feature</th>
                        <th>Current Implementation</th>
                        <th>Enhanced Implementation</th>
                        <th>Improvement Factor</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Data Chunking</td>
                        <td>Simple speaker turns</td>
                        <td>Relational chunking with semantic links</td>
                        <td>10x relationship discovery</td>
                    </tr>
                    <tr>
                        <td>Database Query</td>
                        <td>Basic SQL/NoSQL</td>
                        <td>Graph traversal (Neo4j)</td>
                        <td>5x faster complex queries</td>
                    </tr>
                    <tr>
                        <td>Metadata</td>
                        <td>Basic speaker/timestamp</td>
                        <td>Sentiment, topics, relationships</td>
                        <td>8x richer context</td>
                    </tr>
                    <tr>
                        <td>Processing</td>
                        <td>Synchronous pipeline</td>
                        <td>Async/parallel processing</td>
                        <td>3x faster throughput</td>
                    </tr>
                    <tr>
                        <td>Data Sources</td>
                        <td>Text-only transcripts</td>
                        <td>Multimodal (audio/video/text)</td>
                        <td>15x information capture</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Implementation Progress -->
        <div class="section">
            <h2>Implementation Readiness Assessment</h2>
            <div class="grid-2">
                <div>
                    <h3 style="color: #00d4ff; margin-bottom: 15px;">Phase Readiness</h3>
                    <div style="margin: 10px 0;">
                        <div>Phase 1: Human Enhancement (Ready)</div>
                        <div class="progress-bar"><div class="progress-fill" style="width: 100%;"></div></div>
                    </div>
                    <div style="margin: 10px 0;">
                        <div>Phase 2: Architect Playbook (In Development)</div>
                        <div class="progress-bar"><div class="progress-fill" style="width: 75%;"></div></div>
                    </div>
                    <div style="margin: 10px 0;">
                        <div>Phase 3: Data Structure (Planning)</div>
                        <div class="progress-bar"><div class="progress-fill" style="width: 60%;"></div></div>
                    </div>
                    <div style="margin: 10px 0;">
                        <div>Phase 4: Agentic Prompts (Design)</div>
                        <div class="progress-bar"><div class="progress-fill" style="width: 45%;"></div></div>
                    </div>
                </div>
                <div>
                    <h3 style="color: #00d4ff; margin-bottom: 15px;">Technical Complexity</h3>
                    <div style="margin: 10px 0;">
                        <div>Database Migration (Medium)</div>
                        <div class="progress-bar"><div class="progress-fill" style="width: 65%;"></div></div>
                    </div>
                    <div style="margin: 10px 0;">
                        <div>Multimodal Integration (High)</div>
                        <div class="progress-bar"><div class="progress-fill" style="width: 85%;"></div></div>
                    </div>
                    <div style="margin: 10px 0;">
                        <div>Async Processing (Low)</div>
                        <div class="progress-bar"><div class="progress-fill" style="width: 30%;"></div></div>
                    </div>
                    <div style="margin: 10px 0;">
                        <div>NLP Enhancement (Medium)</div>
                        <div class="progress-bar"><div class="progress-fill" style="width: 55%;"></div></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Content Analysis & Idea Generation -->
        <div class="section">
            <h2>Content Analysis & Idea Generation</h2>
            <div class="grid-3">
                <div class="chart-container">
                    <h3 style="color: #00d4ff; text-align: center; margin-bottom: 15px;">Content Category Breakdown</h3>
                    <canvas id="categoryChart"></canvas>
                </div>
                <div class="chart-container">
                    <h3 style="color: #00d4ff; text-align: center; margin-bottom: 15px;">Effort Distribution by Category</h3>
                    <canvas id="effortChart"></canvas>
                </div>
                <div class="chart-container">
                    <h3 style="color: #00d4ff; text-align: center; margin-bottom: 15px;">Content Velocity</h3>
                    <canvas id="velocityChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Document Metrics & Characteristics -->
        <div class="section">
            <h2>Document Metrics & Characteristics</h2>
            <div class="grid-2">
                <div class="chart-container">
                    <h3 style="color: #00d4ff; text-align: center; margin-bottom: 15px;">File Size vs. Word Count</h3>
                    <canvas id="sizeVsWordCountChart"></canvas>
                </div>
                <div class="chart-container" style="grid-column: span 2;">
                    <h3 style="color: #00d4ff; text-align: center; margin-bottom: 15px;">Detailed Document Metrics</h3>
                    <table class="comparison-table" id="documentsTable">
                        <thead>
                            <tr>
                                <th>Filename</th>
                                <th>Category</th>
                                <th>Time Worked (min)</th>
                                <th>File Size (KB)</th>
                                <th>Word Count</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Data will be injected by script -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Keyword Relationship Graph -->
        <div class="section">
            <h2>Project-Wide Keyword Analysis</h2>
            <div id="keywordGraph" style="height: 500px; width: 100%; background: #1a1a1a; border-radius: 10px; border: 1px solid #333;"></div>
        </div>

        <!-- Conversational Dynamics -->
        <div class="section">
            <h2>Conversational Dynamics</h2>
            <div class="grid-2">
                <div class="chart-container">
                    <h3 style="color: #00d4ff; text-align: center; margin-bottom: 15px;">Sentiment Arc</h3>
                    <canvas id="sentimentChart"></canvas>
                </div>
                <div class="chart-container">
                    <h3 style="color: #00d4ff; text-align: center; margin-bottom: 15px;">Topic Progression</h3>
                    <div id="topicGraph" style="height: 400px; width: 100%; background: #1a1a1a; border-radius: 10px; border: 1px solid #333;"></div>
                </div>
            </div>
        </div>

        <!-- Communication Pattern Analysis -->
        <div class="section">
            <h2>Communication Pattern Analysis</h2>
            <div id="communicationPatterns">
                <!-- Patterns will be injected by script -->
            </div>
        </div>

        <!-- Key Findings & Actionable Insights -->
        <div class="section">
            <h2>Key Findings & Actionable Insights</h2>
            <div class="grid-2">
                <div>
                    <h3 style="color: #00d4ff; margin-bottom: 15px;">Key Findings</h3>
                    <ul id="keyFindingsList" style="list-style-position: inside;">
                        <!-- Findings will be injected by script -->
                    </ul>
                </div>
                <div>
                    <h3 style="color: #00d4ff; margin-bottom: 15px;">Actionable Insights</h3>
                    <ul id="actionableInsightsList" style="list-style-position: inside;">
                        <!-- Insights will be injected by script -->
                    </ul>
                </div>
            </div>
        </div>

        <!-- System Prompt Section -->
        <div class="system-prompt-section">
            <h2>RAG System Prompt Configuration</h2>
            <textarea
                id="systemPromptArea"
                class="system-prompt-area"
                placeholder="What can be done next time to make the analysis more effective (patterns and techniques to be implemented by the speakers)? What about for me, as the individual processing and creating the directives for the RAG chunking and data extraction approaches? What can be done in the future to make the process more effective, more comprehensive, and easier? Specifically, focus on patterns and prompting techniques utilized in our multifaceted RAG approach. Finally, focus on the identification and definition of data structures within the data. How did our database schema(s) handle data analysis, qualification, definition, and storage? What can be done to make future RAG queries on the data set more effective and comprehensive? Finally, how can the system prompts used by the agentic processes, which implement the structures and directives identified by the architect, be improved? Research approaches that produce data not gathered through our current methods. Before you start, describe and define the process I have outlined and indicate the order in which you will implement the methods and techniques we have formed. Can our software be improved? Can our schema? Our agentic personalities/system prompts? Our overall techniques? Which processes can be run asynchronously, and which cannot? Evaluate your mission and clearly state it in a comprehensive and thorough form, using a structured data format before you begin your tasks, and then proceed to implement said patterns in the order described. If you can identify a method or technique that is fundamentally superior to any of my directives, use that method instead and tell me that you have done so. Do not feel that the rigors of my instructions prohibit you from performing your tasks to the absolute most effective manner that you are able."
                spellcheck="false"
            ></textarea>
            <div class="prompt-info">
                System prompt text area - optimized for 297-word RAG configuration
            </div>
        </div>
    </div>

    <script>
        // Chart.js configuration for dark theme
        Chart.defaults.color = '#e0e0e0';
        Chart.defaults.borderColor = '#333';
        Chart.defaults.backgroundColor = '#2a2a2a';

        // Database Performance Comparison
        const dbCtx = document.getElementById('dbPerformanceChart').getContext('2d');
        new Chart(dbCtx, {
            type: 'radar',
            data: {
                labels: ['Query Speed', 'Scalability', 'Relationship Handling', 'Flexibility', 'Complex Analytics'],
                datasets: [{
                    label: 'PostgreSQL',
                    data: [8, 9, 4, 6, 9],
                    borderColor: '#ff6b6b',
                    backgroundColor: 'rgba(255, 107, 107, 0.1)',
                    borderWidth: 2
                }, {
                    label: 'MongoDB',
                    data: [7, 8, 5, 9, 6],
                    borderColor: '#4ecdc4',
                    backgroundColor: 'rgba(78, 205, 196, 0.1)',
                    borderWidth: 2
                }, {
                    label: 'Neo4j (GraphDB)',
                    data: [9, 8, 10, 8, 8],
                    borderColor: '#00d4ff',
                    backgroundColor: 'rgba(0, 212, 255, 0.1)',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        labels: { color: '#e0e0e0' }
                    }
                },
                scales: {
                    r: {
                        angleLines: { color: '#333' },
                        grid: { color: '#333' },
                        pointLabels: { color: '#e0e0e0' },
                        ticks: { color: '#e0e0e0', backdropColor: 'transparent' }
                    }
                }
            }
        });

        // Database Complexity Chart
        const complexityCtx = document.getElementById('dbComplexityChart').getContext('2d');
        new Chart(complexityCtx, {
            type: 'bar',
            data: {
                labels: ['Setup', 'Query Writing', 'Maintenance', 'Schema Changes'],
                datasets: [{
                    label: 'PostgreSQL',
                    data: [6, 7, 5, 4],
                    backgroundColor: 'rgba(255, 107, 107, 0.7)',
                    borderColor: '#ff6b6b',
                    borderWidth: 1
                }, {
                    label: 'MongoDB',
                    data: [4, 5, 6, 8],
                    backgroundColor: 'rgba(78, 205, 196, 0.7)',
                    borderColor: '#4ecdc4',
                    borderWidth: 1
                }, {
                    label: 'Neo4j',
                    data: [7, 4, 6, 7],
                    backgroundColor: 'rgba(0, 212, 255, 0.7)',
                    borderColor: '#00d4ff',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: { labels: { color: '#e0e0e0' } }
                },
                scales: {
                    x: { ticks: { color: '#e0e0e0' }, grid: { color: '#333' } },
                    y: { ticks: { color: '#e0e0e0' }, grid: { color: '#333' } }
                }
            }
        });

        // Processing Mode Chart
        const processingCtx = document.getElementById('processingChart').getContext('2d');
        new Chart(processingCtx, {
            type: 'doughnut',
            data: {
                labels: ['Async Tasks', 'Sync Required'],
                datasets: [{
                    data: [75, 25],
                    backgroundColor: ['#00d4ff', '#ff6b6b'],
                    borderColor: ['#00a8cc', '#cc5555'],
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: { labels: { color: '#e0e0e0' } }
                }
            }
        });

        // Enhancement Pipeline Chart
        const enhancementCtx = document.getElementById('enhancementChart').getContext('2d');
        new Chart(enhancementCtx, {
            type: 'line',
            data: {
                labels: ['Raw Data', 'Chunking', 'Metadata', 'Relations', 'Graph Storage'],
                datasets: [{
                    label: 'Data Quality Score',
                    data: [2, 4, 6, 8, 10],
                    borderColor: '#00d4ff',
                    backgroundColor: 'rgba(0, 212, 255, 0.1)',
                    borderWidth: 3,
                    fill: true,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: { labels: { color: '#e0e0e0' } }
                },
                scales: {
                    x: { ticks: { color: '#e0e0e0' }, grid: { color: '#333' } },
                    y: { ticks: { color: '#e0e0e0' }, grid: { color: '#333' } }
                }
            }
        });

        // Multimodal Data Chart
        const modalityCtx = document.getElementById('modalityChart').getContext('2d');
        new Chart(modalityCtx, {
            type: 'polarArea',
            data: {
                labels: ['Text Analysis', 'Audio Prosody', 'Video Analysis', 'Sentiment Arc', 'Interruption Detection'],
                datasets: [{
                    data: [100, 85, 70, 90, 75],
                    backgroundColor: [
                        'rgba(0, 212, 255, 0.7)',
                        'rgba(255, 107, 107, 0.7)',
                        'rgba(78, 205, 196, 0.7)',
                        'rgba(255, 193, 7, 0.7)',
                        'rgba(156, 39, 176, 0.7)'
                    ],
                    borderColor: [
                        '#00d4ff',
                        '#ff6b6b',
                        '#4ecdc4',
                        '#ffc107',
                        '#9c27b0'
                    ],
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: { labels: { color: '#e0e0e0' } }
                },
                scales: {
                    r: {
                        ticks: { color: '#e0e0e0', backdropColor: 'transparent' },
                        grid: { color: '#333' }
                    }
                }
            }
        });

        // Animate progress bars on load
        window.addEventListener('load', () => {
            const progressBars = document.querySelectorAll('.progress-fill');
            progressBars.forEach(bar => {
                const width = bar.style.width;
                bar.style.width = '0%';
                setTimeout(() => {
                    bar.style.width = width;
                }, 500);
            });
        });

        // Fetch and process data
        fetch('file_metadata.json')
            .then(response => response.json())
            .then(data => {
                // Process data for charts
                const categories = {};
                const effort = {};
                const velocity = [];
                const sizeVsWords = [];
                const documentsTable = document.querySelector('#documentsTable tbody');

                data.forEach(file => {
                    // Category breakdown
                    categories[file.category] = (categories[file.category] || 0) + 1;

                    // Effort distribution
                    effort[file.category] = (effort[file.category] || 0) + parseInt(file.time_worked);

                    // Content velocity
                    velocity.push({
                        x: new Date(file.creation_time),
                        y: data.indexOf(file) + 1,
                        label: file.filename
                    });
                    
                    // Size vs Word Count
                    sizeVsWords.push({
                        x: file.word_count,
                        y: file.file_size / 1024, // in KB
                        label: file.filename
                    });

                    // Populate table
                    const row = documentsTable.insertRow();
                    row.innerHTML = `
                        <td><a href="${file.url}" target="_blank">${file.filename}</a></td>
                        <td>${file.category}</td>
                        <td>${file.time_worked}</td>
                        <td>${(file.file_size / 1024).toFixed(2)}</td>
                        <td>${file.word_count}</td>
                    `;
                });

                // Render charts
                renderCategoryChart(categories);
                renderEffortChart(effort);
                renderVelocityChart(velocity);
                renderSizeVsWordCountChart(sizeVsWords);
                renderKeywordGraph(data.filter(d => d.category !== 'Conversational Analysis'));

                // Render conversational analysis
                const convoData = data.find(d => d.category === 'Conversational Analysis').analysis;
                renderSentimentChart(convoData.sentiment_arc);
                renderTopicGraph(convoData.topic_progression);
                renderCommunicationPatterns(convoData.communication_patterns);
                renderKeyFindings(convoData.key_findings, convoData.actionable_insights);
            });

        function renderCategoryChart(categories) {
            const ctx = document.getElementById('categoryChart').getContext('2d');
            new Chart(ctx, {
                type: 'pie',
                data: {
                    labels: Object.keys(categories),
                    datasets: [{
                        data: Object.values(categories),
                        backgroundColor: ['#00d4ff', '#ff6b6b', '#4ecdc4'],
                        borderColor: ['#00a8cc', '#cc5555', '#3db8af'],
                        borderWidth: 2
                    }]
                },
                options: { responsive: true, plugins: { legend: { labels: { color: '#e0e0e0' } } } }
            });
        }

        function renderEffortChart(effort) {
            const ctx = document.getElementById('effortChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: Object.keys(effort),
                    datasets: [{
                        label: 'Time Worked (minutes)',
                        data: Object.values(effort),
                        backgroundColor: 'rgba(0, 212, 255, 0.7)',
                        borderColor: '#00d4ff',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    plugins: { legend: { display: false } },
                    scales: {
                        x: { ticks: { color: '#e0e0e0' }, grid: { color: '#333' } },
                        y: { ticks: { color: '#e0e0e0' }, grid: { color: '#333' } }
                    }
                }
            });
        }

        function renderVelocityChart(velocity) {
            const ctx = document.getElementById('velocityChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    datasets: [{
                        label: 'Document Creation',
                        data: velocity,
                        borderColor: '#00d4ff',
                        backgroundColor: 'rgba(0, 212, 255, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.1
                    }]
                },
                options: {
                    responsive: true,
                    plugins: { legend: { display: false }, tooltip: {
                        callbacks: {
                            label: function(context) {
                                return context.raw.label;
                            }
                        }
                    } },
                    scales: {
                        x: { type: 'time', time: { unit: 'day' }, ticks: { color: '#e0e0e0' }, grid: { color: '#333' } },
                        y: { display: false }
                    }
                }
            });
        }
        
        function renderSizeVsWordCountChart(data) {
            const ctx = document.getElementById('sizeVsWordCountChart').getContext('2d');
            new Chart(ctx, {
                type: 'scatter',
                data: {
                    datasets: [{
                        label: 'Documents',
                        data: data,
                        backgroundColor: 'rgba(0, 212, 255, 0.7)'
                    }]
                },
                options: {
                    responsive: true,
                    plugins: { legend: { display: false }, tooltip: {
                        callbacks: {
                            label: function(context) {
                                return context.raw.label;
                            }
                        }
                    } },
                    scales: {
                        x: { title: { display: true, text: 'Word Count', color: '#e0e0e0' }, ticks: { color: '#e0e0e0' }, grid: { color: '#333' } },
                        y: { title: { display: true, text: 'File Size (KB)', color: '#e0e0e0' }, ticks: { color: '#e0e0e0' }, grid: { color: '#333' } }
                    }
                }
            });
        }

        function renderKeywordGraph(data) {
            const nodes = [];
            const edges = [];
            const keywordMap = {};
            const stopWords = new Set(['a', 'an', 'the', 'and', 'in', 'to', 'of', 'for', 'is', 'with', 'on', 'deep', 'dive', 'guide', 'comprehensive', 'detailed', 'into', 'generation', 'implementation', 'protocols', 'framework', 'focusing']);

            data.forEach(file => {
                nodes.push({ id: file.filename, label: file.filename, group: file.category });
                const summary = file.summary.toLowerCase().replace(/[.,]/g, '');
                const keywords = summary.split(' ').filter(word => !stopWords.has(word) && word.length > 3);
                
                keywords.forEach(keyword => {
                    if (!keywordMap[keyword]) {
                        keywordMap[keyword] = [];
                    }
                    keywordMap[keyword].push(file.filename);
                });
            });

            for (const keyword in keywordMap) {
                const files = keywordMap[keyword];
                if (files.length > 1) {
                    for (let i = 0; i < files.length; i++) {
                        for (let j = i + 1; j < files.length; j++) {
                            edges.push({ from: files[i], to: files[j], label: keyword });
                        }
                    }
                }
            }

            const container = document.getElementById('keywordGraph');
            const graphData = { nodes: new vis.DataSet(nodes), edges: new vis.DataSet(edges) };
            const options = {
                nodes: {
                    shape: 'dot',
                    size: 16,
                    font: {
                        size: 12,
                        color: '#ffffff'
                    },
                    borderWidth: 2
                },
                edges: {
                    width: 2,
                    color: {
                        color: '#848484',
                        highlight: '#00d4ff',
                        hover: '#00d4ff'
                    },
                    font: {
                        size: 10,
                        color: '#ffffff',
                        strokeWidth: 2,
                        strokeColor: '#0a0a0a'
                    }
                },
                physics: {
                    forceAtlas2Based: {
                        gravitationalConstant: -50,
                        centralGravity: 0.005,
                        springLength: 230,
                        springConstant: 0.18
                    },
                    maxVelocity: 146,
                    solver: 'forceAtlas2Based',
                    timestep: 0.35,
                    stabilization: { iterations: 150 }
                },
                groups: {
                    AI: { color: { background: '#ff6b6b', border: '#cc5555' } },
                    RAG: { color: { background: '#4ecdc4', border: '#3db8af' } },
                    Aegis: { color: { background: '#feca57', border: '#e5a54a' } }
                }
            };
            new vis.Network(container, graphData, options);
        }

        function renderSentimentChart(sentimentData) {
            const ctx = document.getElementById('sentimentChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    datasets: [{
                        label: 'Sentiment Arc',
                        data: sentimentData.map(d => ({x: d.time, y: d.sentiment, label: d.label})),
                        borderColor: '#4ecdc4',
                        backgroundColor: 'rgba(78, 205, 196, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    plugins: { legend: { display: false }, tooltip: {
                        callbacks: {
                            label: function(context) {
                                return context.raw.label;
                            }
                        }
                    } },
                    scales: {
                        x: { title: { display: true, text: 'Time (minutes)', color: '#e0e0e0' }, ticks: { color: '#e0e0e0' }, grid: { color: '#333' } },
                        y: { title: { display: true, text: 'Sentiment Score', color: '#e0e0e0' }, ticks: { color: '#e0e0e0' }, grid: { color: '#333' } }
                    }
                }
            });
        }

        function renderTopicGraph(topicData) {
            const container = document.getElementById('topicGraph');
            const graphData = {
                nodes: new vis.DataSet(topicData.nodes),
                edges: new vis.DataSet(topicData.edges)
            };
            const options = {
                nodes: {
                    shape: 'box',
                    font: { color: '#ffffff' }
                },
                edges: {
                    arrows: 'to',
                    color: '#848484'
                },
                layout: {
                    hierarchical: {
                        direction: 'LR',
                        sortMethod: 'directed'
                    }
                },
                groups: {
                    'Project Definition': { color: { background: '#ff6b6b', border: '#cc5555' } },
                    'Technical Implementation': { color: { background: '#4ecdc4', border: '#3db8af' } },
                    'Meta-Conversation': { color: { background: '#feca57', border: '#e5a54a' } }
                }
            };
            new vis.Network(container, graphData, options);
        }

        function renderCommunicationPatterns(patterns) {
            const container = document.getElementById('communicationPatterns');
            patterns.forEach(pattern => {
                const patternCard = document.createElement('div');
                patternCard.className = 'phase-card';
                patternCard.innerHTML = `
                    <h3>${pattern.pattern_type}</h3>
                    <p><strong>Topic:</strong> ${pattern.topic}</p>
                    <p><strong>Participants:</strong> ${pattern.participants.join(', ')}</p>
                    <p><strong>Duration:</strong> ${pattern.start_time} - ${pattern.end_time}</p>
                    <p><strong>Summary:</strong> ${pattern.summary}</p>
                    <div class="metric-card" style="margin-top: 15px; padding: 10px;">
                        <span class="metric-value" style="font-size: 2em;">${pattern.turn_count}</span>
                        <div class="metric-label">Turns</div>
                    </div>
                `;
                container.appendChild(patternCard);
            });
        }

        function renderKeyFindings(findings, insights) {
            const findingsList = document.getElementById('keyFindingsList');
            const insightsList = document.getElementById('actionableInsightsList');
            findings.forEach(finding => {
                const li = document.createElement('li');
                li.textContent = finding;
                findingsList.appendChild(li);
            });
            insights.forEach(insight => {
                const li = document.createElement('li');
                li.textContent = insight;
                insightsList.appendChild(li);
            });
        }
    </script>
</body>
</html>